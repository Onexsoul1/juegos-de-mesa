<main class="container py-5" style="max-width: 600px;">
  <h1 class="mb-4 text-center">Registro de compradores</h1>

  <form [formGroup]="formRegistro" (ngSubmit)="registrar()" novalidate>
    <!-- Nombre completo -->
    <div class="mb-3">
      <label class="form-label">Nombre completo</label>
      <input type="text" class="form-control" formControlName="nombre">
      <div *ngIf="formRegistro.get('nombre')?.touched && formRegistro.get('nombre')?.invalid" class="text-danger small">
        El nombre es obligatorio.
      </div>
    </div>

    <!-- Nombre de usuario -->
    <div class="mb-3">
      <label class="form-label">Nombre de usuario</label>
      <input type="text" class="form-control" formControlName="usuario">
      <div *ngIf="formRegistro.get('usuario')?.touched && formRegistro.get('usuario')?.invalid" class="text-danger small">
        El nombre de usuario es obligatorio.
      </div>
    </div>

    <!-- Email -->
    <div class="mb-3">
      <label class="form-label">Correo electrónico</label>
      <input type="email" class="form-control" formControlName="email">
      <div *ngIf="formRegistro.get('email')?.touched && formRegistro.get('email')?.hasError('required')" class="text-danger small">
        El correo es obligatorio.
      </div>
      <div *ngIf="formRegistro.get('email')?.touched && formRegistro.get('email')?.hasError('email')" class="text-danger small">
        El correo no es válido.
      </div>
    </div>

    <!-- Contraseña -->
    <div class="mb-3">
      <label class="form-label">Contraseña</label>
      <input type="password" class="form-control" formControlName="clave" placeholder="8-20 carac. (Aa1@)">
      <div *ngIf="formRegistro.get('clave')?.touched && formRegistro.get('clave')?.hasError('required')" class="text-danger small">
        La contraseña es obligatoria.
      </div>
      <div *ngIf="formRegistro.get('clave')?.touched && formRegistro.get('clave')?.hasError('pattern')" class="text-danger small">
        Debe tener 8-20 caracteres, mayúscula, minúscula, número y símbolo.
      </div>
    </div>

    <!-- Repetir contraseña -->
    <div class="mb-3">
      <label class="form-label">Repetir contraseña</label>
      <input type="password" class="form-control" formControlName="reclave">
      <div *ngIf="formRegistro.get('reclave')?.touched && formRegistro.get('reclave')?.invalid" class="text-danger small">
        Debes repetir la contraseña.
      </div>
    </div>

    <!-- Fecha de nacimiento -->
    <div class="mb-3">
      <label class="form-label">Fecha de nacimiento</label>
      <input type="date" class="form-control" formControlName="fechaNacimiento">
      <div *ngIf="formRegistro.get('fechaNacimiento')?.touched && formRegistro.get('fechaNacimiento')?.invalid" class="text-danger small">
        La fecha es obligatoria.
      </div>
    </div>

    <!-- Dirección -->
    <div class="mb-4">
      <label class="form-label">Dirección de despacho (opcional)</label>
      <input type="text" class="form-control" formControlName="direccion">
    </div>

    <div class="d-grid gap-2">
      <button type="submit" class="btn btn-dark">Registrar</button>
      <button type="button" class="btn btn-outline-secondary" (click)="limpiar()">Limpiar</button>
    </div>
  </form>

  <div *ngIf="msgOk" class="alert alert-success mt-4 text-center">
    Registro exitoso ✔
  </div>

  <div class="text-center mt-4">
    <a routerLink="/" class="btn btn-link">← Volver al inicio</a>
  </div>
</main>

<footer class="text-center py-3 bg-light">
  <p class="mb-0">&copy; 2025 Lúdica Games. Todos los derechos reservados.</p>
</footer>
